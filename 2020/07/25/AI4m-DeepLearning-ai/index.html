<!DOCTYPE HTML>
<html lang="zh-CNs">


<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="DeepLearning.ai5月新课-AI4Medicince笔记, 池中之物">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>DeepLearning.ai5月新课-AI4Medicince笔记 | 池中之物</title>
    <link rel="icon" type="image/png" href="/Kenny_Ng.github.io/favicon.png">

    <link rel="stylesheet" type="text/css" href="/Kenny_Ng.github.io/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/Kenny_Ng.github.io/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/Kenny_Ng.github.io/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/Kenny_Ng.github.io/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/Kenny_Ng.github.io/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/Kenny_Ng.github.io/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/Kenny_Ng.github.io/css/my.css">

    <script src="/Kenny_Ng.github.io/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/Kenny_Ng.github.io/atom.xml" title="池中之物" type="application/atom+xml">
<link rel="stylesheet" href="/Kenny_Ng.github.io/css/prism-tomorrow.css" type="text/css"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>


<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/Kenny_Ng.github.io/" class="waves-effect waves-light">
                    
                    <img src="/Kenny_Ng.github.io/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">池中之物</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/Kenny_Ng.github.io/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Index</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/Kenny_Ng.github.io/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/Kenny_Ng.github.io/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/Kenny_Ng.github.io/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/Kenny_Ng.github.io/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/Kenny_Ng.github.io/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>Contact</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/Kenny_Ng.github.io/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Friends</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/Kenny_Ng.github.io/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">池中之物</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/Kenny_Ng.github.io/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/Kenny_Ng.github.io/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/Kenny_Ng.github.io/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/Kenny_Ng.github.io/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/Kenny_Ng.github.io/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/Kenny_Ng.github.io/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/Kenny_Ng.github.io/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Friends
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/Kenny_Ng.github.io/medias/featureimages/11.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">DeepLearning.ai5月新课-AI4Medicince笔记</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/Kenny_Ng.github.io/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/Kenny_Ng.github.io/tags/ML/">
                                <span class="chip bg-color">ML</span>
                            </a>
                        
                            <a href="/Kenny_Ng.github.io/tags/CV/">
                                <span class="chip bg-color">CV</span>
                            </a>
                        
                            <a href="/Kenny_Ng.github.io/tags/math/">
                                <span class="chip bg-color">math</span>
                            </a>
                        
                            <a href="/Kenny_Ng.github.io/tags/advancedML/">
                                <span class="chip bg-color">advancedML</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2020-07-25
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>Update Date:&nbsp;&nbsp;
                    2020-08-02
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>Word Count:&nbsp;&nbsp;
                    4.2k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>Read Times:&nbsp;&nbsp;
                    15 Min
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="1-Course1-AI-for-Medical-Diagnosis-诊断"><a href="#1-Course1-AI-for-Medical-Diagnosis-诊断" class="headerlink" title="1. Course1-AI for Medical Diagnosis(诊断)"></a>1. Course1-AI for Medical Diagnosis(诊断)</h1><h2 id="I-ML进阶，可能遇到的更实际的进阶问题：3个"><a href="#I-ML进阶，可能遇到的更实际的进阶问题：3个" class="headerlink" title="I. ML进阶，可能遇到的更实际的进阶问题：3个"></a>I. ML进阶，可能遇到的<strong><u>更实际</u>的</strong><u>进阶</u>问题：3个</h2><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh4delyjewj31520f2dmd.jpg" style="zoom:50%;" />

<h3 id="a-训练数据分布-Class-imbalance问题"><a href="#a-训练数据分布-Class-imbalance问题" class="headerlink" title="a. 训练数据分布-Class imbalance问题"></a>a. 训练数据分布-Class imbalance问题</h3><p>如 实际在收集要拿來做DL的医学数据時，常识是 <strong>正常的非病患的数据比不正常的、有疾病的多上很多</strong></p>
<p>loss function用的是: <strong>Binary cross-entropy loss</strong></p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh3d7i1s7tj30x606cwg8.jpg" style="zoom:33%;" />

<p>model输出是：P(不正常影像), 对于<strong>不正常影像(y=1)的预测</strong>！(不是看label预测哦，测试数据压根就没有label)</p>
<h4 id="导致问题：impact-on-Loss-calculation"><a href="#导致问题：impact-on-Loss-calculation" class="headerlink" title="导致问题：impact on Loss calculation"></a>导致问题：impact on <strong>Loss calculation</strong></h4><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh3daki4igj31g60oo7ge.jpg" alt="假设初始的classifier预测P均为0.5" style="zoom:30%;" />

<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh3dbxlo62j30rs07k0wq.jpg" alt="loss占比越大的，就是优化的bias" style="zoom:33%;" />

<p>但这会和目的「让模型往更准确预测<strong>不正常</strong>图片的方向发展」相悖：the algorithm is optimizing  its updates to <strong>get the normal examples,</strong>  and not giving much relative weight to the mass examples. If learning with a highly unbalanced dataset, as we are seeing here, then the algorithm will be <strong>incentivized(刺激) to prioritize the <u>majority class</u></strong>, since it contributes more to the loss.</p>
<h4 id="解决："><a href="#解决：" class="headerlink" title="解决："></a>解决：</h4><h5 id="解1-给loss加上权重：weighted-loss"><a href="#解1-给loss加上权重：weighted-loss" class="headerlink" title="解1 给loss加上权重：weighted loss"></a>解1 给loss加上权重：weighted loss</h5><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh3dk2fxymj30y20hgdky.jpg" alt="weight就是类数量比的反向" style="zoom:33%;" />

<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh3djqzy7aj315a0ju480.jpg" alt="可以让loss的贡献接近" style="zoom:33%;" />

<h5 id="解2-人工重新采样Resampling恢复balance-有缺点"><a href="#解2-人工重新采样Resampling恢复balance-有缺点" class="headerlink" title="解2  人工重新采样Resampling恢复balance(有缺点)"></a>解2  人工重新采样Resampling恢复balance(有缺点)</h5><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh3dvgvajhj31eq0mawt7.jpg" style="zoom:33%;" />

<p>原本的training set有6張正常的影像，和2張不正常的影像，以<strong>人工的方式</strong>將正常的影像<strong>去掉2張之後</strong>+再把2張不正常的影像<strong>重复</strong>放入變成4張。</p>
<p>这样，正常的影像和不正常的影像都分別有四張，便可以解決先前的Class Imbalance 問題。但是這個解決方式會有明显的缺点：原本该有6種不同的正常影像，变成了4種——也就是說會有<strong>部分数据 沒有参与這次训练</strong>+而有(<strong>重复数据参与了训练</strong>)</p>
<h3 id="b-Multi-task问题-让模型一次性做多重的分类任务"><a href="#b-Multi-task问题-让模型一次性做多重的分类任务" class="headerlink" title="b. Multi-task问题: 让模型一次性做多重的分类任务"></a>b. Multi-task问题: 让模型一次性做<u>多重的</u>分类任务</h3><p>在一开始的例子当中，我们只以有肿块mass和没有砖块来做区分，但是现实生活中的医学影像却是不只有两种情况，就如胸腔Ｘ光来说，可能会发现有许多<strong>其他种类</strong>的疾病，例如：肿块、肺炎、肺积水…等。</p>
<p>当我们想要<strong><u>同时</u></strong>检测的疾病<strong>种类不只一个</strong>的时候这样就是<strong>属于Multi-task的问题</strong></p>
<h4 id="解决-只用一个模型。好处？"><a href="#解决-只用一个模型。好处？" class="headerlink" title="解决: 只用一个模型。好处？"></a>解决: 只用一个模型。好处？</h4><p>如何建立<strong>一个</strong>具有处理Multi-task(多重任务)问题的模型？只用一个模型的<strong>好处</strong>？can <strong>learn features</strong> that are <strong>common</strong> to identifying more than one disease,  allowing us to <strong>use our existing data more efficiently</strong></p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh4dkfbai0j31ao0ba7as.jpg" alt="1 model" style="zoom:33%;" />



<h4 id="Mult-task和单任务比，的不同"><a href="#Mult-task和单任务比，的不同" class="headerlink" title="Mult-task和单任务比，的不同"></a>Mult-task和单任务比，的不同</h4><p>如图中所示加入我们要在X光胸腔分辨mass、pneumonia和Edema时, 可以看到左边所显示的是<strong>每一张图片的desired label</strong>+右边是机器给的prediction probability值，这时候计算多重任务的Loss时他只要像右上角说显示的一样<strong>将各别的Loss值相加</strong>就可以。这样所计算出来的加总过后的Loss就会是训练更新模型的Loss。</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh4diz8x92j30xc0gawjg.jpg" alt="训练examples和loss形式的对应改变" style="zoom:43%;" />

<p>data分布，也可能出class imbalance问题：像这样一次处理许多疾病，在收集资料的时候也有可能出现比重不均的情况——所以在多重任务的情况下也可以使用解决方法的加上权重。</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh4dt34bvlj30vo09wgnp.jpg" alt="权重w，按各自病的数据分开算哦！" style="zoom:50%;" />



<h3 id="c-Dataset-Size问题：数据量"><a href="#c-Dataset-Size问题：数据量" class="headerlink" title="c. Dataset Size问题：数据量"></a>c. Dataset Size问题：数据量</h3><p>CNN，尤其是<strong>规模更大的</strong>CNN，是需要大量的labeled data做训练才会有比较好的效果。通常在医学影像的领域当中，在处理影像时只会包含10,000到100,000个不同的样本，像这样的资料量相对在其他领域例如分辨猫和狗的影像来说是非常少的，就是工程师们可能会遇到的Data Size的问题。</p>
<h4 id="2种解决的方式"><a href="#2种解决的方式" class="headerlink" title="2种解决的方式"></a>2种解决的方式</h4><h5 id="1-Transfer-Learning，使用pre-training。"><a href="#1-Transfer-Learning，使用pre-training。" class="headerlink" title="1. Transfer Learning，使用pre-training。"></a><strong>1. Transfer Learning，使用pre-training。</strong></h5><p>下面这张图在pretraining的部分，这一个模型先被拿去做分辨企鹅的训练等到分辨企鹅的训练完成之后再转移到第二个步骤Fine-tuning，这时候工程师可以视情况决定需不需要升级这个训练模型，最后的目标是要让这一个模型可以分辨胸腔X光并且输出是哪一个疾病。</p>
<p>为什么用企鹅当作例子？</p>
<p>讲师在这边有提到因为企鹅整体的形状很像肺形状，所以在初期几层的神经网路当中可以去让模型分辨一些比较大的，例如边缘形状等等的问题，在第二次Fine -tuning的时候这个模型就会被修改并且能够分辨比较细节的部分。其实像这样的方式就是所谓的Transfer Learning。</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh4ezmo6yvj30x80ey0y2.jpg" style="zoom:50%;" />

<h6 id="题外话：而当数据充足时，你可以："><a href="#题外话：而当数据充足时，你可以：" class="headerlink" title="题外话：而当数据充足时，你可以："></a><strong>题外话</strong>：而当<strong>数据充足</strong>时，你可以：</h6><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh4h5xu7cmj31i40u0gst.jpg" alt="从头开始:新训练模型" style="zoom:33%;" />

<h5 id="2-Data-Augmentation数据增强"><a href="#2-Data-Augmentation数据增强" class="headerlink" title="2. Data Augmentation数据增强"></a><strong>2. Data Augmentation数据增强</strong></h5><p>如果喂给机器训练的影像数量太小的话，还有一种方法可以让影像变多！那就是以人工的方式将影像进行一些变化后再重新把变化过后的影像喂回机器做训练，这个就是Data Augmentation。</p>
<p>但是这边要注意一点像是胸腔X光来说，我们可以旋转图片重新喂给模型或是改变对比度去产生一张新的影像，然而如果我们将胸腔X光做<strong>180度的翻转</strong>时，这样机器就无法分辨他是正常的胸腔或是dextrocardia（右位心）——也就是说这种情况下，<strong>label的状态改变</strong>了，由正常的影像变成右位心的影像。</p>
<p>所以结论就是，当我们想要利用这种方式去增加影像的数量时，我们必须<strong>考虑到这一张影像的label状态会不会改变</strong>。</p>
<img src="https://miro.medium.com/max/1390/1*PstRJ3s2Nw3mQEG3c5joug.png" alt="数据增强不是任意的，是有规范的" style="zoom:43%;" />

<hr>
<h2 id="II-再聊训练验证和测试集的进阶问题"><a href="#II-再聊训练验证和测试集的进阶问题" class="headerlink" title="II. 再聊训练验证和测试集的进阶问题"></a>II. 再聊训练验证和测试集的<u>进阶</u>问题</h2><img src="https://miro.medium.com/max/2279/1*GBsxeGzhvdr-iVTGc-dZaw.png" alt="训练、验证、测试的别名" style="zoom:50%;" />

<p>一般来说机器学习会将我们所拥有的数据分做三组<br>1.Training set训练集 2.Validation set验证集 3.Test set测试集</p>
<p>分别有<strong>别名</strong>:</p>
<p>development set, tuning set 和 holdout set</p>
<h2 id="Dataset可能存在的进阶问题"><a href="#Dataset可能存在的进阶问题" class="headerlink" title="Dataset可能存在的进阶问题"></a>Dataset可能存在的进阶问题</h2><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh4gt6lqzwj319g0bwtc2.jpg" style="zoom:50%;" />





<h3 id="Q1-Data-leakage-数据-因果关系-的泄露"><a href="#Q1-Data-leakage-数据-因果关系-的泄露" class="headerlink" title="Q1: Data leakage 数据(因果关系)的泄露"></a>Q1: Data leakage 数据(因果关系)的泄露</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>Data Leakage 跟其他场合说的<strong>数据安全数据泄漏</strong>, <strong>完全不一样</strong>: 不是数据量因为泄露少了，<strong>而是因果关系的提前泄漏</strong>。是由于<strong>前期</strong>的<strong>准备数据/数据采样</strong>的时候出了问题，误将与<strong>结果直接相关或存在颠倒因果关系的feature纳入了数据集</strong>，使模型使用<strong>颠倒的因果关系的数据</strong>进行预测，得到<strong>over-optimistic 过于乐观的</strong>结果。</p>
<h5 id="具体实例-Patient-Overlap"><a href="#具体实例-Patient-Overlap" class="headerlink" title="具体实例: Patient Overlap"></a>具体实例: Patient <u>Overlap</u></h5><p>如果<strong>重复的病人数据</strong>被分别使用在训练组以及测试组的时候，机器可能会<strong>”记忆“</strong>该位病人的某项特殊特征，误将将这项特殊的特征当作是一个可以判断的依据，这种现象是Over-optimistic test set performance。就有点像是考试前你已经看过考题了一样，机器就会像这样子把答案记下来，并非像是你想让他做的-倚靠其他更有依据的线索找到答案。</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh6rdqztzuj310u0ng4e2.jpg" style="zoom:33%;" />

<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh6r9x0iyej315g0lw7ca.jpg" alt="不同时期normal的照片加入2个set..." style="zoom:50%;" />



<p>例如这张图片所示，是<strong>normal的</strong>病人在不同时期的照片，同时2次都带着项链。机器在test set中将这位病人的影像判定为正常，<strong>可能</strong>是<strong>依据病人穿戴的项链</strong>，而不是依据病人肺部的现象——不要小看DL model的记忆力: it’s possible that the model actually <strong>memorized to output normal when it saw the patient with a necklace on</strong>. This is <strong>not hypothetical</strong>, deep learning models can unintentionally memorize training data, and the model could memorize <strong>rare or unique training data aspects</strong> of the patient,</p>
<h4 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h4><p>解决方式其实很简单：只要<strong>将同一位病人的数据放在<u>同一个组别</u></strong>即可——这样也是保证学习的目的：通过学习一些病人的特征，可以<strong>泛化到</strong><u>更多的病人</u>身上。</p>
<p>以往在分数据的时候可能会从按照图像类别直接分——<strong>保证分布的一致性</strong>；但是医学影像的话反其道而行之，以病人作为拆分到不同组的根据。</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh6rkq9a50j30vh0u0wy5.jpg" alt="split by image VS patients" style="zoom:40%;" />





<h3 id="Q2-Set-sampling当数据本身分布不均匀时"><a href="#Q2-Set-sampling当数据本身分布不均匀时" class="headerlink" title="Q2: Set sampling当数据本身分布不均匀时"></a>Q2: Set sampling当数据本身分布不均匀时</h3><h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><p>就举医学影像为例，正常不患病的数量会远大于有病的医学影像数量，即分别问大类和小类。所以在分数据到不同的三个不同的数据集时，很有可能<strong>测试组里面没有分到一张患病的影像</strong>。</p>
<h4 id="解-同时引出此情况下，各个集的sampling顺序"><a href="#解-同时引出此情况下，各个集的sampling顺序" class="headerlink" title="解(同时引出此情况下，各个集的sampling顺序)"></a>解(同时引出此情况下，<u>各个集的sampling顺序</u>)</h4><p>解决的方式是</p>
<ol>
<li><p>在分数据的时候被<strong>设定至少有百分之X的</strong>小类X会<strong>被设成50%</strong></p>
</li>
<li><p>在测试组的数据<strong>确认之后</strong>，接下来<strong>要设定的就是验证组的数据</strong>，验证集设定策略<strong>和测试集合的基本上一样</strong></p>
</li>
<li><p>当这两组的数据设定完之后<strong>剩下的所有数据</strong>，会被用作是<strong>训练集</strong>。</p>
</li>
</ol>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh4gx81troj31d20d87bu.jpg" style="zoom:33%;" />



<h5 id="即data-sampling顺序-是test→validation→train"><a href="#即data-sampling顺序-是test→validation→train" class="headerlink" title="即data sampling顺序: 是test→validation→train"></a>即data sampling顺序: 是test→validation→train</h5><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh4gygxttdj30ba06m0tz.jpg" style="zoom:50%;" />





<h3 id="Q3-Ground-Truth-“正确”的label"><a href="#Q3-Ground-Truth-“正确”的label" class="headerlink" title="Q3: Ground Truth(“正确”的label)"></a>Q3: Ground Truth(“正确”的label)</h3><h4 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h4><p>在医学里面数据label，也就是学习结果的「正确答案」，在机器学习里面常<strong>被称作Ground truth</strong>， 而在医学上面同样的东西会被称作Reference Standard。</p>
<p>医学里面会常常<strong>会有没有正确解答的现象</strong>，就举胸腔X光来说，也许某一位放射科医师认为某张影像是肺炎，但同样的影像另外一位放射科医生可能<strong>会有不同的意见</strong>，这个叫做Inter-observer disagreement。</p>
<h4 id="定义”正确”的方法"><a href="#定义”正确”的方法" class="headerlink" title="定义”正确”的方法"></a>定义”正确”的方法</h4><p>如此一来决定Ground truth的方法也变得很重要，常见的方法有：</p>
<p><strong>1.Consensus Voting</strong> ✅<br>就以胸腔X光来说，这个方式就是由一组放射科医生可能是<u>投票决定又或者是经由讨论达到某个共识</u>而决定最后的答案。</p>
<p><strong>2.Additional Medical Testing</strong></p>
<p>例如就像刚刚举例的胸腔X光，如果当放射科医生无法从胸腔X光得到最后的Ground truth时，这时病人会被建议去做其他的测试，例如CT，得到更精确的解答，验证胸腔X光的Ground truth。除了X光影像之外，例如皮肤癌照片也通常会由组织切片的验证结果才得到该照片的Ground truth。不过这个方法比较费时费力，所以<strong>目前研究大多都是用第一个方式</strong>。</p>
<hr>
<h2 id="III-再聊分类问题的evaluation-metrics"><a href="#III-再聊分类问题的evaluation-metrics" class="headerlink" title="III. 再聊分类问题的evaluation metrics"></a>III. 再聊<u>分类问题</u>的evaluation metrics</h2><h3 id="accuracy准确性的计算"><a href="#accuracy准确性的计算" class="headerlink" title="accuracy准确性的计算"></a>accuracy准确性的计算</h3><h4 id="accuracy定义和概率计算，有数学上的一致性"><a href="#accuracy定义和概率计算，有数学上的一致性" class="headerlink" title="accuracy定义和概率计算，有数学上的一致性"></a>accuracy定义和概率计算，有数学上的一致性</h4><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghbb8xauogj319s0jytgv.jpg" alt="概率计算得到acc" style="zoom:43%;" />



<p>所以只<strong>要有sensitivity和specificity</strong>，结合统计得到的prevalence，就可以<strong>算出accuracy</strong></p>
<h3 id="混淆矩阵"><a href="#混淆矩阵" class="headerlink" title="混淆矩阵"></a>混淆矩阵</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh6yd5wykaj31ho0kyn70.jpg" alt="Confusion Matrix"></p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghb6apedduj30rw07wq4i.jpg" alt="注意这两个：实际是!" style="zoom:50%;" />



<h4 id="助记！"><a href="#助记！" class="headerlink" title="助记！"></a>助记！</h4><h5 id="铺垫：什么NP-R，TP-R这种rate怎么算："><a href="#铺垫：什么NP-R，TP-R这种rate怎么算：" class="headerlink" title="铺垫：什么NP R，TP R这种rate怎么算："></a>铺垫：什么NP R，TP R这种rate怎么算：</h5><p>rate就不只是直接拿confusion matrix里的值了，而是<strong><font color="#dd0000">再除以对应行/列的<u>总和</u></font></strong>，即做分母!!</p>
<p>(以下均为rate)：</p>
<ul>
<li><p>灵敏度(Sensitivity, <strong>TPR</strong>)和特异度(Specificity, <strong>TNR</strong>)，作为分母的是“<strong>实际</strong>有病/没病的总数“，所以可以看到是(TP，FN)和(TN, FP)这种<font color="#dd0000"><strong>两两相反，四个字母完全不同</strong></font>的搭配！！</p>
</li>
<li><p>查准率PPV(Precision)和NPV，作为分母的是“<strong>预测</strong>有病/没病的总数“，所以可以看到是(TP，FP)和(TN, FN)这种<font color="#dd0000"><strong>两两预测的pos和neg类相同，而结果的正确性true/false不同</strong></font>的搭配！！</p>
</li>
</ul>
<ul>
<li>查全率(Recall, Sensitivty) 和查准率(Precision, PPV)<font color="#dd0000">都是关于<strong>postive类</strong>的指标——<strong>找到positve类(比如患病)</strong>一般才是<strong>ML预测的主要对象, 而不是关注negative类</strong></font></li>
</ul>
<hr>
<h3 id="先验-prevalence-做分母：sensitivity灵敏度-即查全率-和specificity特异度"><a href="#先验-prevalence-做分母：sensitivity灵敏度-即查全率-和specificity特异度" class="headerlink" title="先验(prevalence)做分母：sensitivity灵敏度(即查全率)和specificity特异度"></a>先验(prevalence)做分母：sensitivity灵敏度(即查全率)和specificity特异度</h3><blockquote>
<p>Sensitivity <strong>only</strong> considers output on people <strong>in the positive class</strong></p>
<p>Similarly, specificity <strong>only</strong> considers output on people <strong>in the negative class</strong>.</p>
</blockquote>
<ul>
<li><p><strong>灵敏度/查全率(recall) P(+|disease)</strong>：model预测为pos且实际为pos/所有实际为pos(TP+<strong>FN</strong>)，的比例</p>
<p>理解<u><strong>查全</strong></u>：<strong>在实际pos的样本中，model预测为正且预测正确</strong>的比例——<strong>非漏诊性！越高，说明放过<u>更少的</u>患病者</strong></p>
<p>计算公式为：TPR=TP/ (TP+ FN)</p>
</li>
</ul>
<ul>
<li><p><strong>特异度P(—|non-disease)，P(—|neg)</strong> 简称<strong>TNR，TN <u>Rate</u></strong>：model预测为neg且实际为neg/所有实际为neg，的比例——<strong>分母是<font color="#dd0000">non-disease，诊断没病的查全率</font>，非误诊性！越高，说明<u>将越多的非病人正确排除</u></strong></p>
<p>计算公式为：TNR= TN / (FP + TN)</p>
</li>
</ul>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghba7wvrgaj30xf0u04qp.jpg" alt="灵敏度和特异度的解释" style="zoom:43%;" />

<h5 id="结论：敏感度高-漏诊率低，查全率高；特异度高-误诊率低"><a href="#结论：敏感度高-漏诊率低，查全率高；特异度高-误诊率低" class="headerlink" title="结论：敏感度高=漏诊率低，查全率高；特异度高=误诊率低"></a>结论：敏感度高=漏诊率低，查全率高；特异度高=误诊率低</h5><p>注：(P(+|disease)<u>分子的+</u>,是<strong>model</strong>预测的结果！！！)</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh6v7xrtswj314w0hswkh.jpg" alt="注意: 先验概率+是model判定为正的！！" style="zoom:33%;" />



<h5 id="练习题：坑"><a href="#练习题：坑" class="headerlink" title="练习题：坑"></a>练习题：坑</h5><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghbd7v75vtj317y0tw7cp.jpg" style="zoom:40%;" />



<h3 id="ROC曲线"><a href="#ROC曲线" class="headerlink" title="ROC曲线"></a>ROC曲线</h3><h4 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h4><p>理想情况下我们<strong>希望敏感度和特异度都很高</strong>，然而实际上一般在敏感度和特异度中<strong>寻找一个平衡点</strong>，这个过程可以<strong>用ROC(Receiver Operating Characteristic)曲线</strong>来表示, 和 <a href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic#Area_under_the_curve" target="_blank" rel="noopener">AUC</a>值(Area Under the Curve) 来精确表示：</p>
<h4 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h4><ul>
<li>纵坐标：<strong>RPR，sensitivity</strong></li>
<li>横坐标：<strong>FPR = 1 — specificity(TNR)</strong>——<strong>误诊率</strong></li>
</ul>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghbg9nfon6j30f80fi42l.jpg" style="zoom:50%;" />

<h4 id="为什么横坐标用误诊率？1-特异性？"><a href="#为什么横坐标用误诊率？1-特异性？" class="headerlink" title="为什么横坐标用误诊率？1 - 特异性？"></a>为什么横坐标用误诊率？1 - 特异性？</h4><p>为了满足：<strong>Sensitivity、Specificity这两个指标越大</strong>的情况</p>
<p>理想情况下，<strong>TPR应该接近1，FPR应该接近0</strong>, 即TPR=1，FPR=0，即<strong>图中(0,1)点。故ROC曲线越靠拢(0,1)点，越偏离45度对角线越好</strong>，<strong>Sensitivity、Specificity越大</strong>效果越好。</p>
<h4 id="深度理解ROC"><a href="#深度理解ROC" class="headerlink" title="深度理解ROC"></a>深度理解ROC</h4><p>ROC曲线的<strong>横坐标和纵坐标其实是<font color="#dd0000">没有相关性的</font></strong>，所以<font color="#dd0000"><strong>不能把ROC曲线当做一个函数曲线来分析，应该把ROC曲线看成无数个点</strong></font>，每个点都代表一个分类器，其横纵坐标表征了<font color="#dd0000">这个<strong>分类器的性能</strong></font>。为了更好的理解ROC曲线，我们先引入ROC空间</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghbfjctbu0j30n80nawhi.jpg" alt="ROC space" style="zoom:50%;" />

<p>明显的，C’的性能最好。而B的准确率只有0.5，几乎是随机分类。特别的，图中左上角坐标为（1,0）的点为<strong>完美分类点（perfect classification），它代表所有的分类全部正确</strong>，即模型<strong>预测为1的点全部正确（TPR=1），归为0的点没有错误（FPR=0）</strong>。</p>
<p>通过ROC空间，我们明白了一条ROC曲线其实<strong>代表了无数个分类器</strong>：那么我们为什么常常用一条ROC曲线来<strong>描述一个分类器</strong>呢？</p>
<p>仔细观察ROC曲线，发现其都是上升的曲线（斜率大于0），且都通过点（0,0）和点（1,1）。其实，这些点是一个个的分类器，而每个分类器实际<strong>习得的<font color="#dd0000">也是一个最佳阈值</font></strong>。所以ROC,可以代表着<strong>一个</strong>分类器<strong>在不同阈值下</strong>的分类效果，即曲线从左往右可以<strong>认为是阈值</strong>变化过程——但是<strong><font color="#dd0000">不一定是从0到1的，也可能是反过来——得看具体场景</font></strong></p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghbcutbqclj30z50u0awm.jpg" alt="完美划分时, 无论阈值是什么总恰有一个坐标=1" style="zoom:43%;" />



<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghbczdv3vej30es0fawgl.jpg" alt="完美划分时的ROC" style="zoom:33%;" />





<h4 id="AUC值"><a href="#AUC值" class="headerlink" title="AUC值"></a><strong>AUC</strong>值</h4><p>那么AUC值的含义是什么呢？</p>
<blockquote>
<p>The AUC value is equivalent to the probability that a randomly chosen positive example is ranked higher than a randomly chosen negative example.</p>
</blockquote>
<p>这句话有些绕，我尝试解释一下：首先<strong>AUC值是一个<u>概率值</u></strong>——随机挑选一个正样本以及一个负样本，当前的分类算法，根据计算得到的Score值并<strong>将这个正样本排在负样本前面的概率</strong>就是AUC值。当然，<strong>AUC值越大</strong>，当前的分类算法<strong>越有可能</strong>将正样本排在负样本前面，即能够更好的分类。</p>
<p>从AUC判断分类器（预测模型）优劣的标准：</p>
<ul>
<li>AUC = 1，是完美分类器，采用这个预测模型时，<strong><font color="#dd0000">存在至少一个</font>阈值能得出完美预测</strong>(绝大多数预测的场合，不存在完美分类器)</li>
<li>0.5 &lt; AUC &lt; 1，优于随机猜测。这个分类器（模型）妥善设定阈值的话，能有预测价值。</li>
<li>AUC = 0.5，跟随机猜测一样（例：丢铜板），模型没有预测价值。</li>
<li>AUC &lt; 0.5，比随机猜测还差；但只要总是反预测而行，就优于随机猜测。</li>
</ul>
<p>三种AUC值示例：</p>
<p><img src="https://pic3.zhimg.com/80/v2-f9d1bf42ddcaaab151464e1d2e9f1d30_1440w.jpg" alt="img"></p>
<p>简单说：<strong>AUC值越大的分类器，正确率越高</strong></p>
<h4 id="为什么使用ROC曲线"><a href="#为什么使用ROC曲线" class="headerlink" title="为什么使用ROC曲线"></a>为什么使用ROC曲线</h4><p>既然已经这么多评价标准，为什么还要使用ROC和AUC呢？</p>
<p>因为ROC曲线有个<strong>很好的特性</strong>：当测试集中的<strong>正负样本的分布变化的时候，ROC曲线能够保持不变</strong>——在实际的数据集中经常会出现类<strong>不平衡（class imbalance）</strong>现象，即负样本比正样本多很多（或者相反），而且测试数据中的正负样本的分布也可能随着时间变化</p>
<hr>
<h3 id="后验-预测结果-做分母：PPV查准率-又Precision-、NPV"><a href="#后验-预测结果-做分母：PPV查准率-又Precision-、NPV" class="headerlink" title="后验(预测结果)做分母：PPV查准率(又Precision)、NPV"></a>后验(预测结果)做分母：PPV查准率(又Precision)、NPV</h3><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh6vcxavpoj30v80awq6f.jpg" alt="PPV" style="zoom:33%;" />



<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh6vdcaqw1j30vq0amdjl.jpg" alt="NPV" style="zoom:33%;" />

<hr>
<h3 id="PRC曲线-precision-recall"><a href="#PRC曲线-precision-recall" class="headerlink" title="PRC曲线(precision-recall)"></a>PRC曲线(precision-recall)</h3><h4 id="目的-1"><a href="#目的-1" class="headerlink" title="目的"></a>目的</h4><p>和ROC曲线用于权衡灵敏度和特异度的作用类似，理想情况下我们<strong>希望precision和recall都高”</strong>， “实际上一般在敏感度和特异度中<strong>寻找一个平衡点</strong>，</p>
<p>ROC shows the trade-off between precision and recall for different thresholds. A high area under the curve represents both high recall and high precision,</p>
<h4 id="F1-score-量化PRC"><a href="#F1-score-量化PRC" class="headerlink" title="F1-score(量化PRC)"></a>F1-score(量化PRC)</h4><p>同理，类似AUC值的精确作用，F1 score: harmonic mean of the precision and recall, where an F1 score reaches its best value at 1 (perfect precision and recall) and worst at 0.</p>
<h1 id="2-Course2-AI-for-Medical-Prognosis-预断-预后"><a href="#2-Course2-AI-for-Medical-Prognosis-预断-预后" class="headerlink" title="2. Course2-AI for Medical Prognosis(预断,预后)"></a>2. Course2-AI for Medical Prognosis(预断,预后)</h1>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/Kenny_Ng.github.io/about" rel="external nofollow noreferrer">Kenny Ng</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://yoursite.com/Kenny_Ng.github.io/2020/07/25/AI4m-DeepLearning-ai/">http://yoursite.com/Kenny_Ng.github.io/2020/07/25/AI4m-DeepLearning-ai/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint polocy. If reproduced, please indicate source
                    <a href="/Kenny_Ng.github.io/about" target="_blank">Kenny Ng</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/Kenny_Ng.github.io/tags/ML/">
                                    <span class="chip bg-color">ML</span>
                                </a>
                            
                                <a href="/Kenny_Ng.github.io/tags/CV/">
                                    <span class="chip bg-color">CV</span>
                                </a>
                            
                                <a href="/Kenny_Ng.github.io/tags/math/">
                                    <span class="chip bg-color">math</span>
                                </a>
                            
                                <a href="/Kenny_Ng.github.io/tags/advancedML/">
                                    <span class="chip bg-color">advancedML</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/Kenny_Ng.github.io/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/Kenny_Ng.github.io/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/Kenny_Ng.github.io/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/Kenny_Ng.github.io/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;Current
            </div>
            <div class="card">
                <a href="/Kenny_Ng.github.io/2020/07/25/AI4m-DeepLearning-ai/">
                    <div class="card-image">
                        
                        
                        <img src="/Kenny_Ng.github.io/medias/featureimages/11.jpg" class="responsive-img" alt="DeepLearning.ai5月新课-AI4Medicince笔记">
                        
                        <span class="card-title">DeepLearning.ai5月新课-AI4Medicince笔记</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            1. Course1-AI for Medical Diagnosis(诊断)I. ML进阶，可能遇到的更实际的进阶问题：3个

a. 训练数据分布-Class imbalance问题如 实际在收集要拿來做DL的医学数据時，常识是 正常的非
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-07-25
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Kenny Ng
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/Kenny_Ng.github.io/tags/ML/">
                        <span class="chip bg-color">ML</span>
                    </a>
                    
                    <a href="/Kenny_Ng.github.io/tags/CV/">
                        <span class="chip bg-color">CV</span>
                    </a>
                    
                    <a href="/Kenny_Ng.github.io/tags/math/">
                        <span class="chip bg-color">math</span>
                    </a>
                    
                    <a href="/Kenny_Ng.github.io/tags/advancedML/">
                        <span class="chip bg-color">advancedML</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/Kenny_Ng.github.io/2020/07/25/ML-concepts-memorize/">
                    <div class="card-image">
                        
                        
                        <img src="/Kenny_Ng.github.io/medias/featureimages/7.jpg" class="responsive-img" alt="ML,DL的混淆点/易错点">
                        
                        <span class="card-title">ML,DL的混淆点/易错点</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            ML, DL中的常见知识、易错点和一般性结论1. 均值化？归一化？傻傻分不清“标准化”和”归一化”这两个中文词要指代四种Feature scaling(特征缩放)方法, 实质是一种线性变换: 对向量 )按照比例压缩再进行平移。线性变换有很多
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-07-25
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Kenny Ng
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/Kenny_Ng.github.io/tags/ML/">
                        <span class="chip bg-color">ML</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/Kenny_Ng.github.io/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/Kenny_Ng.github.io/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/Kenny_Ng.github.io/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/Kenny_Ng.github.io/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/Kenny_Ng.github.io/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/Kenny_Ng.github.io/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/Kenny_Ng.github.io/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/Kenny_Ng.github.io/about" target="_blank">Kenny Ng</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/KennyNg-19" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:wuyuhao2019@126.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=836316155" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 836316155" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/Kenny_Ng.github.io/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/Kenny_Ng.github.io/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/Kenny_Ng.github.io/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/Kenny_Ng.github.io/libs/materialize/materialize.min.js"></script>
    <script src="/Kenny_Ng.github.io/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/Kenny_Ng.github.io/libs/aos/aos.js"></script>
    <script src="/Kenny_Ng.github.io/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/Kenny_Ng.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/Kenny_Ng.github.io/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/Kenny_Ng.github.io/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/Kenny_Ng.github.io/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/Kenny_Ng.github.io/libs/instantpage/instantpage.js" type="module"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

</body>

</html>
